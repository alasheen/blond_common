

<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="en" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en" > <!--<![endif]-->
<head>
  <meta charset="utf-8">
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>interfaces.machine_parameters package &mdash; BLonD Common  documentation</title>
  

  
  
  
  

  
  <script type="text/javascript" src="../_static/js/modernizr.min.js"></script>
  
    
      <script type="text/javascript" id="documentation_options" data-url_root="../" src="../_static/documentation_options.js"></script>
        <script src="../_static/jquery.js"></script>
        <script src="../_static/underscore.js"></script>
        <script src="../_static/doctools.js"></script>
        <script src="../_static/language_data.js"></script>
        <script async="async" src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.7/latest.js?config=TeX-AMS-MML_HTMLorMML"></script>
    
    <script type="text/javascript" src="../_static/js/theme.js"></script>

    

  
  <link rel="stylesheet" href="../_static/css/theme.css" type="text/css" />
  <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />
  <link rel="stylesheet" href="../_static/graphviz.css" type="text/css" />
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
    <link rel="next" title="fitting package" href="fitting.html" />
    <link rel="prev" title="interfaces package" href="interfaces.html" /> 
</head>

<body class="wy-body-for-nav">

   
  <div class="wy-grid-for-nav">
    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >
          

          
            <a href="../index.html" class="icon icon-home"> BLonD Common
          

          
          </a>

          
            
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        
        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
              
            
            
              <ul class="current">
<li class="toctree-l1 current"><a class="reference internal" href="interfaces.html">interfaces package</a><ul class="current">
<li class="toctree-l2 current"><a class="reference internal" href="interfaces.html#modules">Modules</a><ul class="current">
<li class="toctree-l3 current"><a class="current reference internal" href="#">interfaces.machine_parameters package</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="interfaces.html#examples">Examples</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="fitting.html">fitting package</a><ul>
<li class="toctree-l2"><a class="reference internal" href="fitting.html#modules">Modules</a><ul>
<li class="toctree-l3"><a class="reference internal" href="fitting.profile.html">fitting.profile module</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="fitting.html#examples">Examples</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="maths.html">maths package</a><ul>
<li class="toctree-l2"><a class="reference internal" href="maths.html#modules">Modules</a><ul>
<li class="toctree-l3"><a class="reference internal" href="maths.calculus.html">maths.calculus module</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="maths.html#examples">Examples</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="rf_functions.html">rf_functions package</a><ul>
<li class="toctree-l2"><a class="reference internal" href="rf_functions.html#modules">Modules</a><ul>
<li class="toctree-l3"><a class="reference internal" href="rf_functions.potential.html">rf_functions.potential module</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="rf_functions.html#examples">Examples</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="datatypes.html">datatypes package</a><ul>
<li class="toctree-l2"><a class="reference internal" href="datatypes.html#modules">Modules</a><ul>
<li class="toctree-l3"><a class="reference internal" href="datatypes._core.html">datatypes._core module</a></li>
<li class="toctree-l3"><a class="reference internal" href="datatypes.ring_programs.html">datatypes.ring_programs module</a></li>
<li class="toctree-l3"><a class="reference internal" href="datatypes.rf_programs.html">datatypes.rf_programs module</a></li>
<li class="toctree-l3"><a class="reference internal" href="datatypes.beam_data.html">datatypes.beam_data module</a></li>
<li class="toctree-l3"><a class="reference internal" href="datatypes.functions.html">datatypes.functions module</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="datatypes.html#examples">Examples</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="datatypes_advanced.html">datatypes_advanced package</a><ul>
<li class="toctree-l2"><a class="reference internal" href="datatypes_advanced.html#modules">Modules</a><ul>
<li class="toctree-l3"><a class="reference internal" href="datatypes_advanced._core.html">datatypes_advanced._core module</a></li>
<li class="toctree-l3"><a class="reference internal" href="datatypes_advanced.ring_programs.html">datatypes_advanced.ring_programs module</a></li>
<li class="toctree-l3"><a class="reference internal" href="datatypes_advanced.rf_programs.html">datatypes_advanced.rf_programs module</a></li>
<li class="toctree-l3"><a class="reference internal" href="datatypes_advanced.beam_data.html">datatypes_advanced.beam_data module</a></li>
<li class="toctree-l3"><a class="reference internal" href="datatypes_advanced.functions.html">datatypes_advanced.functions module</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="datatypes_advanced.html#examples">Examples</a></li>
</ul>
</li>
</ul>

            
          
        </div>
        
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" aria-label="top navigation">
        
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../index.html">BLonD Common</a>
        
      </nav>


      <div class="wy-nav-content">
        
        <div class="rst-content">
        
          















<div role="navigation" aria-label="breadcrumbs navigation">

  <ul class="wy-breadcrumbs">
    
      <li><a href="../index.html" class="icon icon-home"></a> &raquo;</li>
        
          <li><a href="interfaces.html">interfaces package</a> &raquo;</li>
        
      <li>interfaces.machine_parameters package</li>
    
    
      <li class="wy-breadcrumbs-aside">
        
            
            <a href="../_sources/_modules/interfaces.machine_parameters.rst.txt" rel="nofollow"> View page source</a>
          
        
      </li>
    
  </ul>

  
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <div class="section" id="interfaces-machine-parameters-package">
<h1>interfaces.machine_parameters package<a class="headerlink" href="#interfaces-machine-parameters-package" title="Permalink to this headline">¶</a></h1>
<div class="section" id="module-blond_common.interfaces.machine_parameters.ring">
<span id="interfaces-machine-parameters-ring-module"></span><h2>interfaces.machine_parameters.ring module<a class="headerlink" href="#module-blond_common.interfaces.machine_parameters.ring" title="Permalink to this headline">¶</a></h2>
<dl class="simple">
<dt><strong>Module gathering all general input parameters used for the simulation.</strong></dt><dd><dl class="field-list simple">
<dt class="field-odd">Authors</dt>
<dd class="field-odd"><p><strong>Simon Albright</strong>, <strong>Alexandre Lasheen</strong>, <strong>Danilo Quartullo</strong>, <strong>Helga Timko</strong></p>
</dd>
</dl>
</dd>
</dl>
<dl class="py class">
<dt id="blond_common.interfaces.machine_parameters.ring.Ring">
<em class="property">class </em><code class="sig-prename descclassname">blond_common.interfaces.machine_parameters.ring.</code><code class="sig-name descname">Ring</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">Particle</span></em>, <em class="sig-param"><span class="n">RingSection_list</span></em>, <em class="sig-param"><span class="o">**</span><span class="n">kwargs</span></em><span class="sig-paren">)</span><a class="reference internal" href="blond_common/interfaces/machine_parameters/ring.html#Ring"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#blond_common.interfaces.machine_parameters.ring.Ring" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference external" href="https://docs.python.org/3/library/functions.html#object" title="(in Python v3.8)"><code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></a></p>
<p>Class containing the general properties of the synchrotron that are
independent of the RF system or the beam.</p>
<p>The index <span class="math notranslate nohighlight">\(n\)</span> denotes time steps, <span class="math notranslate nohighlight">\(k\)</span> ring segments/sections
and <span class="math notranslate nohighlight">\(i\)</span> momentum compaction orders.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>Particle</strong> (<em>class</em>) – A Particle-based class defining the primary, synchronous particle (mass
and charge) that is reference for the momentum/energy in the ring.</p></li>
<li><p><strong>RingSection_list</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#list" title="(in Python v3.8)"><em>list</em></a><em> (or </em><em>iterable</em><em>) </em><em>of RingSection objects</em>) – The list of all the sections to build the Ring.</p></li>
<li><p><strong>t_start</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.8)"><em>float</em></a><em> (</em><em>optional</em><em>, </em><em>default 0</em><em>)</em>) – Starting time from which the time array input should be taken into
account.</p></li>
<li><p><strong>t_end</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.8)"><em>float</em></a><em> (</em><em>optional</em><em>, </em><em>default np</em><em>,</em><em>inf</em><em>)</em>) – Last time up to which the time array input should be taken into
account.</p></li>
<li><p><strong>eta_orders</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.8)"><em>int</em></a><em> (</em><em>optional</em><em>, </em><em>default 0</em><em>)</em>) – The orders of slippage factor to be computed (alpha_1 and alpha_2,
will be assumed to be 0 by default if not defined in the sections).</p></li>
</ul>
</dd>
</dl>
<dl class="py attribute">
<dt id="blond_common.interfaces.machine_parameters.ring.Ring.circumference_design">
<code class="sig-name descname">circumference_design</code><a class="headerlink" href="#blond_common.interfaces.machine_parameters.ring.Ring.circumference_design" title="Permalink to this definition">¶</a></dt>
<dd><p>Design circumference of the synchrotron. Sum of ring segment design
lengths,
<span class="math notranslate nohighlight">\(C_s = \sum_k L_{s,k}\)</span> [m]</p>
<dl class="field-list simple">
<dt class="field-odd">Type</dt>
<dd class="field-odd"><p><a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.8)">float</a></p>
</dd>
</dl>
</dd></dl>

<dl class="py attribute">
<dt id="blond_common.interfaces.machine_parameters.ring.Ring.circumference">
<code class="sig-name descname">circumference</code><a class="headerlink" href="#blond_common.interfaces.machine_parameters.ring.Ring.circumference" title="Permalink to this definition">¶</a></dt>
<dd><p>Circumference of the synchrotron including possible orbit bumps,
<span class="math notranslate nohighlight">\(C = \sum_k L_k\)</span> [m]</p>
<dl class="field-list simple">
<dt class="field-odd">Type</dt>
<dd class="field-odd"><p>float matrix [n_sections, n_turns+1]</p>
</dd>
</dl>
</dd></dl>

<dl class="py attribute">
<dt id="blond_common.interfaces.machine_parameters.ring.Ring.radius_design">
<code class="sig-name descname">radius_design</code><a class="headerlink" href="#blond_common.interfaces.machine_parameters.ring.Ring.radius_design" title="Permalink to this definition">¶</a></dt>
<dd><p>Design radius of the synchrotron, <span class="math notranslate nohighlight">\(R_s = C_s/(2 \pi)\)</span> [m]</p>
<dl class="field-list simple">
<dt class="field-odd">Type</dt>
<dd class="field-odd"><p><a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.8)">float</a></p>
</dd>
</dl>
</dd></dl>

<dl class="py attribute">
<dt id="blond_common.interfaces.machine_parameters.ring.Ring.radius">
<code class="sig-name descname">radius</code><a class="headerlink" href="#blond_common.interfaces.machine_parameters.ring.Ring.radius" title="Permalink to this definition">¶</a></dt>
<dd><p>Radius of the synchrotron including possible orbit bumps,
<span class="math notranslate nohighlight">\(R = C/(2 \pi)\)</span> [m]</p>
<dl class="field-list simple">
<dt class="field-odd">Type</dt>
<dd class="field-odd"><p>float matrix [n_sections, n_turns+1]</p>
</dd>
</dl>
</dd></dl>

<dl class="py attribute">
<dt id="blond_common.interfaces.machine_parameters.ring.Ring.orbit_bump">
<code class="sig-name descname">orbit_bump</code><a class="headerlink" href="#blond_common.interfaces.machine_parameters.ring.Ring.orbit_bump" title="Permalink to this definition">¶</a></dt>
<dd><p>Orbit bump for each section</p>
<dl class="field-list simple">
<dt class="field-odd">Type</dt>
<dd class="field-odd"><p>float matrix [n_sections, n_turns+1]</p>
</dd>
</dl>
</dd></dl>

<dl class="py attribute">
<dt id="blond_common.interfaces.machine_parameters.ring.Ring.bending_radius">
<code class="sig-name descname">bending_radius</code><a class="headerlink" href="#blond_common.interfaces.machine_parameters.ring.Ring.bending_radius" title="Permalink to this definition">¶</a></dt>
<dd><p>Bending radius in dipole magnets on design orbit, <span class="math notranslate nohighlight">\(\rho\)</span> [m]</p>
<dl class="field-list simple">
<dt class="field-odd">Type</dt>
<dd class="field-odd"><p><a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.8)">float</a></p>
</dd>
</dl>
</dd></dl>

<dl class="py attribute">
<dt id="blond_common.interfaces.machine_parameters.ring.Ring.alpha_orders">
<code class="sig-name descname">alpha_orders</code><a class="headerlink" href="#blond_common.interfaces.machine_parameters.ring.Ring.alpha_orders" title="Permalink to this definition">¶</a></dt>
<dd><p>Number of orders of the momentum compaction factor</p>
<dl class="field-list simple">
<dt class="field-odd">Type</dt>
<dd class="field-odd"><p>list of int</p>
</dd>
</dl>
</dd></dl>

<dl class="py attribute">
<dt id="blond_common.interfaces.machine_parameters.ring.Ring.alpha_0">
<code class="sig-name descname">alpha_0</code><a class="headerlink" href="#blond_common.interfaces.machine_parameters.ring.Ring.alpha_0" title="Permalink to this definition">¶</a></dt>
<dd><p>Linear momentum compaction factor <span class="math notranslate nohighlight">\(\alpha_{0,k,n}\)</span></p>
<dl class="field-list simple">
<dt class="field-odd">Type</dt>
<dd class="field-odd"><p>float matrix [n_sections, n_turns+1]</p>
</dd>
</dl>
</dd></dl>

<dl class="py attribute">
<dt id="blond_common.interfaces.machine_parameters.ring.Ring.alpha_n">
<code class="sig-name descname">alpha_n</code><a class="headerlink" href="#blond_common.interfaces.machine_parameters.ring.Ring.alpha_n" title="Permalink to this definition">¶</a></dt>
<dd><p>Higher order momentum compaction factors</p>
<dl class="field-list simple">
<dt class="field-odd">Type</dt>
<dd class="field-odd"><p>float matrix [n_sections, n_turns+1]</p>
</dd>
</dl>
</dd></dl>

<dl class="py attribute">
<dt id="blond_common.interfaces.machine_parameters.ring.Ring.eta_0">
<code class="sig-name descname">eta_0</code><a class="headerlink" href="#blond_common.interfaces.machine_parameters.ring.Ring.eta_0" title="Permalink to this definition">¶</a></dt>
<dd><p>Zeroth order slippage factor <span class="math notranslate nohighlight">\(\eta_{0,k,n} = \alpha_{0,k,n} -
\frac{1}{\gamma_{s,k,n}^2}\)</span> [1]</p>
<dl class="field-list simple">
<dt class="field-odd">Type</dt>
<dd class="field-odd"><p>float matrix [n_sections, n_turns+1]</p>
</dd>
</dl>
</dd></dl>

<dl class="py attribute">
<dt id="blond_common.interfaces.machine_parameters.ring.Ring.eta_1">
<code class="sig-name descname">eta_1</code><a class="headerlink" href="#blond_common.interfaces.machine_parameters.ring.Ring.eta_1" title="Permalink to this definition">¶</a></dt>
<dd><p>First order slippage factor <span class="math notranslate nohighlight">\(\eta_{1,k,n} =
\frac{3\beta_{s,k,n}^2}{2\gamma_{s,k,n}^2} + \alpha_{1,k,n} -
\alpha_{0,k,n}\eta_{0,k,n}\)</span> [1]</p>
<dl class="field-list simple">
<dt class="field-odd">Type</dt>
<dd class="field-odd"><p>float matrix [n_sections, n_turns+1]</p>
</dd>
</dl>
</dd></dl>

<dl class="py attribute">
<dt id="blond_common.interfaces.machine_parameters.ring.Ring.eta_2">
<code class="sig-name descname">eta_2</code><a class="headerlink" href="#blond_common.interfaces.machine_parameters.ring.Ring.eta_2" title="Permalink to this definition">¶</a></dt>
<dd><p>Second order slippage factor <span class="math notranslate nohighlight">\(\eta_{2,k,n} =
-\frac{\beta_{s,k,n}^2\left(5\beta_{s,k,n}^2-1\right)}
{2\gamma_{s,k,n}^2} + \alpha_{2,k,n} - 2\alpha_{0,k,n}\alpha_{1,k,n}
+ \frac{\alpha_{1,k,n}}{\gamma_{s,k,n}^2} + \alpha_{0,k}^2\eta_{0,k,n}
- \frac{3\beta_{s,k,n}^2\alpha_{0,k,n}}{2\gamma_{s,k,n}^2}\)</span> [1]</p>
<dl class="field-list simple">
<dt class="field-odd">Type</dt>
<dd class="field-odd"><p>float matrix [n_sections, n_turns+1]</p>
</dd>
</dl>
</dd></dl>

<dl class="py attribute">
<dt id="blond_common.interfaces.machine_parameters.ring.Ring.momentum">
<code class="sig-name descname">momentum</code><a class="headerlink" href="#blond_common.interfaces.machine_parameters.ring.Ring.momentum" title="Permalink to this definition">¶</a></dt>
<dd><p>Design relativistic momentum on the design orbit <span class="math notranslate nohighlight">\(p_{s,k,n}\)</span></p>
<dl class="field-list simple">
<dt class="field-odd">Type</dt>
<dd class="field-odd"><p>float matrix [n_sections, n_turns+1]</p>
</dd>
</dl>
</dd></dl>

<dl class="py attribute">
<dt id="blond_common.interfaces.machine_parameters.ring.Ring.beta">
<code class="sig-name descname">beta</code><a class="headerlink" href="#blond_common.interfaces.machine_parameters.ring.Ring.beta" title="Permalink to this definition">¶</a></dt>
<dd><p>Design relativistic beta program for each segment of the
ring <span class="math notranslate nohighlight">\(\beta_{s,k}^n = \frac{1}{\sqrt{1
+ \left(\frac{m}{p_{s,k,n}}\right)^2} }\)</span> [1]</p>
<dl class="field-list simple">
<dt class="field-odd">Type</dt>
<dd class="field-odd"><p>float matrix [n_sections, n_turns+1]</p>
</dd>
</dl>
</dd></dl>

<dl class="py attribute">
<dt id="blond_common.interfaces.machine_parameters.ring.Ring.gamma">
<code class="sig-name descname">gamma</code><a class="headerlink" href="#blond_common.interfaces.machine_parameters.ring.Ring.gamma" title="Permalink to this definition">¶</a></dt>
<dd><p>Design relativistic gamma program for each segment of the ring
<span class="math notranslate nohighlight">\(\gamma_{s,k,n} = \sqrt{ 1
+ \left(\frac{p_{s,k,n}}{m}\right)^2 }\)</span> [1]</p>
<dl class="field-list simple">
<dt class="field-odd">Type</dt>
<dd class="field-odd"><p>float matrix [n_sections, n_turns+1]</p>
</dd>
</dl>
</dd></dl>

<dl class="py attribute">
<dt id="blond_common.interfaces.machine_parameters.ring.Ring.energy">
<code class="sig-name descname">energy</code><a class="headerlink" href="#blond_common.interfaces.machine_parameters.ring.Ring.energy" title="Permalink to this definition">¶</a></dt>
<dd><p>Design total energy program for each segment of the ring
<span class="math notranslate nohighlight">\(E_{s,k,n} = \sqrt{ p_{s,k,n}^2 + m^2 }\)</span> [eV]</p>
<dl class="field-list simple">
<dt class="field-odd">Type</dt>
<dd class="field-odd"><p>float matrix [n_sections, n_turns+1]</p>
</dd>
</dl>
</dd></dl>

<dl class="py attribute">
<dt id="blond_common.interfaces.machine_parameters.ring.Ring.kin_energy">
<code class="sig-name descname">kin_energy</code><a class="headerlink" href="#blond_common.interfaces.machine_parameters.ring.Ring.kin_energy" title="Permalink to this definition">¶</a></dt>
<dd><p>Design kinetic energy program for each segment of the ring
<span class="math notranslate nohighlight">\(E_{s,kin} = \sqrt{ p_{s,k,n}^2 + m^2 } - m\)</span> [eV]</p>
<dl class="field-list simple">
<dt class="field-odd">Type</dt>
<dd class="field-odd"><p>float matrix [n_sections, n_turns+1]</p>
</dd>
</dl>
</dd></dl>

<dl class="py attribute">
<dt id="blond_common.interfaces.machine_parameters.ring.Ring.delta_E">
<code class="sig-name descname">delta_E</code><a class="headerlink" href="#blond_common.interfaces.machine_parameters.ring.Ring.delta_E" title="Permalink to this definition">¶</a></dt>
<dd><p>Gain in design total energy from one point to another,
for all sections,
<span class="math notranslate nohighlight">\(: \quad E_{s,k,n+1}- E_{s,k,n}\)</span> [eV]</p>
<dl class="field-list simple">
<dt class="field-odd">Type</dt>
<dd class="field-odd"><p>float matrix [n_sections, n_turns]</p>
</dd>
</dl>
</dd></dl>

<dl class="py attribute">
<dt id="blond_common.interfaces.machine_parameters.ring.Ring.t_rev_design">
<code class="sig-name descname">t_rev_design</code><a class="headerlink" href="#blond_common.interfaces.machine_parameters.ring.Ring.t_rev_design" title="Permalink to this definition">¶</a></dt>
<dd><p>Revolution period turn by turn on the design orbit.
<span class="math notranslate nohighlight">\(T_{s,0,n} = \frac{C_s}{\beta_{s,n} c}\)</span> [s]</p>
<dl class="field-list simple">
<dt class="field-odd">Type</dt>
<dd class="field-odd"><p>float array [n_turns+1]</p>
</dd>
</dl>
</dd></dl>

<dl class="py attribute">
<dt id="blond_common.interfaces.machine_parameters.ring.Ring.t_rev">
<code class="sig-name descname">t_rev</code><a class="headerlink" href="#blond_common.interfaces.machine_parameters.ring.Ring.t_rev" title="Permalink to this definition">¶</a></dt>
<dd><p>Revolution period turn by turn (including orbit bumps).
<span class="math notranslate nohighlight">\(T_{0,n} = \frac{C}{\beta_{s,n} c}\)</span> [s]</p>
<dl class="field-list simple">
<dt class="field-odd">Type</dt>
<dd class="field-odd"><p>float array [n_turns+1]</p>
</dd>
</dl>
</dd></dl>

<dl class="py attribute">
<dt id="blond_common.interfaces.machine_parameters.ring.Ring.f_rev_design">
<code class="sig-name descname">f_rev_design</code><a class="headerlink" href="#blond_common.interfaces.machine_parameters.ring.Ring.f_rev_design" title="Permalink to this definition">¶</a></dt>
<dd><p>Revolution frequency on the design orbit
<span class="math notranslate nohighlight">\(f_{s,0,n} = \frac{1}{T_{s,0,n}}\)</span> [Hz]</p>
<dl class="field-list simple">
<dt class="field-odd">Type</dt>
<dd class="field-odd"><p>float array [n_turns+1]</p>
</dd>
</dl>
</dd></dl>

<dl class="py attribute">
<dt id="blond_common.interfaces.machine_parameters.ring.Ring.f_rev">
<code class="sig-name descname">f_rev</code><a class="headerlink" href="#blond_common.interfaces.machine_parameters.ring.Ring.f_rev" title="Permalink to this definition">¶</a></dt>
<dd><p>Revolution frequency (including orbit bumps)
<span class="math notranslate nohighlight">\(f_{0,n} = \frac{1}{T_{0,n}}\)</span> [Hz]</p>
<dl class="field-list simple">
<dt class="field-odd">Type</dt>
<dd class="field-odd"><p>float array [n_turns+1]</p>
</dd>
</dl>
</dd></dl>

<dl class="py attribute">
<dt id="blond_common.interfaces.machine_parameters.ring.Ring.omega_rev_design">
<code class="sig-name descname">omega_rev_design</code><a class="headerlink" href="#blond_common.interfaces.machine_parameters.ring.Ring.omega_rev_design" title="Permalink to this definition">¶</a></dt>
<dd><p>Revolution angular frequency on the design orbit
<span class="math notranslate nohighlight">\(\omega_{s,0,n} = 2\pi f_{s,0,n}\)</span> [1/s]</p>
<dl class="field-list simple">
<dt class="field-odd">Type</dt>
<dd class="field-odd"><p>float array [n_turns+1]</p>
</dd>
</dl>
</dd></dl>

<dl class="py attribute">
<dt id="blond_common.interfaces.machine_parameters.ring.Ring.omega_rev">
<code class="sig-name descname">omega_rev</code><a class="headerlink" href="#blond_common.interfaces.machine_parameters.ring.Ring.omega_rev" title="Permalink to this definition">¶</a></dt>
<dd><p>Revolution angular frequency (including orbit bumps)
<span class="math notranslate nohighlight">\(\omega_{0,n} = 2\pi f_{0,n}\)</span> [1/s]</p>
<dl class="field-list simple">
<dt class="field-odd">Type</dt>
<dd class="field-odd"><p>float array [n_turns+1]</p>
</dd>
</dl>
</dd></dl>

<dl class="py attribute">
<dt id="blond_common.interfaces.machine_parameters.ring.Ring.cycle_time">
<code class="sig-name descname">cycle_time</code><a class="headerlink" href="#blond_common.interfaces.machine_parameters.ring.Ring.cycle_time" title="Permalink to this definition">¶</a></dt>
<dd><p>Cumulative cycle time, turn by turn,
<span class="math notranslate nohighlight">\(t_n = \sum_n T_{s,0,n}\)</span> [s].
Possibility to extract cycle parameters at these moments using
‘parameters_at_time’.</p>
<dl class="field-list simple">
<dt class="field-odd">Type</dt>
<dd class="field-odd"><p>float array [n_turns+1]</p>
</dd>
</dl>
</dd></dl>

<p class="rubric">Examples</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="c1"># To declare a single-section synchrotron at constant energy:</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># Particle type Proton</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">beam.beam</span> <span class="kn">import</span> <span class="n">Proton</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">input_parameters.ring</span> <span class="kn">import</span> <span class="n">Ring</span><span class="p">,</span> <span class="n">RingSection</span><span class="p">,</span> <span class="n">machine_program</span>
<span class="go">&gt;&gt;&gt;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">C</span> <span class="o">=</span> <span class="mi">26659</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">alpha_0</span> <span class="o">=</span> <span class="mf">3.21e-4</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">momentum</span> <span class="o">=</span> <span class="n">machine_program</span><span class="p">(</span><span class="mf">450e9</span><span class="p">,</span> <span class="n">n_turns</span><span class="o">=</span><span class="mi">10</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">ring</span> <span class="o">=</span> <span class="n">Ring</span><span class="p">(</span><span class="n">Proton</span><span class="p">(),</span> <span class="n">RingSection</span><span class="p">(</span><span class="n">C</span><span class="p">,</span> <span class="n">alpha_0</span><span class="p">,</span> <span class="n">momentum</span><span class="p">))</span>
</pre></div>
</div>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="c1"># To declare a two section synchrotron at constant energy and</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># higher-order momentum compaction factors; particle Electron:</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">beam.beam</span> <span class="kn">import</span> <span class="n">Electron</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">input_parameters.ring</span> <span class="kn">import</span> <span class="n">Ring</span><span class="p">,</span> <span class="n">RingSection</span><span class="p">,</span> <span class="n">machine_program</span>
<span class="go">&gt;&gt;&gt;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">n_turns</span> <span class="o">=</span> <span class="mi">10</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">C</span> <span class="o">=</span> <span class="p">[</span><span class="mi">13000</span><span class="p">,</span> <span class="mi">13659</span><span class="p">]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">alpha_0</span> <span class="o">=</span> <span class="p">[</span><span class="mf">3.21e-4</span><span class="p">,</span> <span class="mf">2.89e-4</span><span class="p">]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">alpha_1</span> <span class="o">=</span> <span class="p">[</span><span class="mf">2.e-5</span><span class="p">,</span> <span class="mf">1.e-5</span><span class="p">]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">alpha_2</span> <span class="o">=</span> <span class="p">[</span><span class="mf">5.e-7</span><span class="p">,</span> <span class="mf">5.e-7</span><span class="p">]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">momentum</span> <span class="o">=</span> <span class="n">machine_program</span><span class="p">(</span><span class="mf">450e9</span><span class="p">,</span> <span class="n">n_turns</span><span class="o">=</span><span class="mi">10</span><span class="p">)</span>
<span class="go">&gt;&gt;&gt;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">section_1</span> <span class="o">=</span> <span class="n">RingSection</span><span class="p">(</span><span class="n">C</span><span class="p">[</span><span class="mi">0</span><span class="p">],</span> <span class="n">alpha_0</span><span class="p">[</span><span class="mi">0</span><span class="p">],</span> <span class="n">momentum</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">section_2</span> <span class="o">=</span> <span class="n">RingSection</span><span class="p">(</span><span class="n">C</span><span class="p">[</span><span class="mi">1</span><span class="p">],</span> <span class="n">alpha_0</span><span class="p">[</span><span class="mi">1</span><span class="p">],</span> <span class="n">momentum</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">ring</span> <span class="o">=</span> <span class="n">Ring</span><span class="p">(</span><span class="n">Electron</span><span class="p">(),</span> <span class="p">[</span><span class="n">section_1</span><span class="p">,</span> <span class="n">section_2</span><span class="p">])</span>
</pre></div>
</div>
<dl class="py method">
<dt id="blond_common.interfaces.machine_parameters.ring.Ring.direct_input">
<em class="property">classmethod </em><code class="sig-name descname">direct_input</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">Particle</span></em>, <em class="sig-param"><span class="n">length</span></em>, <em class="sig-param"><span class="n">alpha_0</span></em>, <em class="sig-param"><span class="n">momentum</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">kin_energy</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">energy</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">bending_field</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">bending_radius</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">orbit_bump</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">alpha_1</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="o">**</span><span class="n">kwargs</span></em><span class="sig-paren">)</span><a class="reference internal" href="blond_common/interfaces/machine_parameters/ring.html#Ring.direct_input"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#blond_common.interfaces.machine_parameters.ring.Ring.direct_input" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt id="blond_common.interfaces.machine_parameters.ring.Ring.parameters_at_sample">
<code class="sig-name descname">parameters_at_sample</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">sample</span></em><span class="sig-paren">)</span><a class="reference internal" href="blond_common/interfaces/machine_parameters/ring.html#Ring.parameters_at_sample"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#blond_common.interfaces.machine_parameters.ring.Ring.parameters_at_sample" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt id="blond_common.interfaces.machine_parameters.ring.Ring.parameters_at_time">
<code class="sig-name descname">parameters_at_time</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">cycle_moments</span></em><span class="sig-paren">)</span><a class="reference internal" href="blond_common/interfaces/machine_parameters/ring.html#Ring.parameters_at_time"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#blond_common.interfaces.machine_parameters.ring.Ring.parameters_at_time" title="Permalink to this definition">¶</a></dt>
<dd><p>Function to return various cycle parameters at a specific moment in
time. The cycle time is defined to start at zero in turn zero.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>cycle_moments</strong> (<em>float array</em>) – Moments of time at which cycle parameters are to be calculated [s].</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p><strong>parameters</strong> – Contains ‘momentum’, ‘beta’, ‘gamma’, ‘energy’, ‘kin_energy’,
‘f_rev’, ‘t_rev’. ‘omega_rev’, ‘eta_0’, and ‘delta_E’ interpolated
to the moments contained in the ‘cycle_moments’ array</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>dictionary</p>
</dd>
</dl>
</dd></dl>

</dd></dl>

</div>
<div class="section" id="module-blond_common.interfaces.machine_parameters.ring_section">
<span id="interfaces-machine-parameters-ring-section-module"></span><h2>interfaces.machine_parameters.ring_section module<a class="headerlink" href="#module-blond_common.interfaces.machine_parameters.ring_section" title="Permalink to this headline">¶</a></h2>
<dl class="simple">
<dt><strong>Module gathering all general input parameters used for the simulation.</strong></dt><dd><dl class="field-list simple">
<dt class="field-odd">Authors</dt>
<dd class="field-odd"><p><strong>Simon Albright</strong>, <strong>Alexandre Lasheen</strong></p>
</dd>
</dl>
</dd>
</dl>
<dl class="py class">
<dt id="blond_common.interfaces.machine_parameters.ring_section.RingSection">
<em class="property">class </em><code class="sig-prename descclassname">blond_common.interfaces.machine_parameters.ring_section.</code><code class="sig-name descname">RingSection</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">length</span></em>, <em class="sig-param"><span class="n">alpha_0</span></em>, <em class="sig-param"><span class="n">momentum</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">kin_energy</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">energy</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">bending_field</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">bending_radius</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">orbit_bump</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">alpha_1</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="o">**</span><span class="n">kwargs</span></em><span class="sig-paren">)</span><a class="reference internal" href="blond_common/interfaces/machine_parameters/ring_section.html#RingSection"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#blond_common.interfaces.machine_parameters.ring_section.RingSection" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference external" href="https://docs.python.org/3/library/functions.html#object" title="(in Python v3.8)"><code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></a></p>
<p>Class containing the general properties of a section of the
accelerator that are independent of the RF system or the beam.</p>
<p>The user has to input the synchronous data with at least but no more
than one of the following: momentum, kin_energy, energy, bending_field.</p>
<p>If bending_field is passed, bending_radius should be passed as well.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>length</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.8)"><em>float</em></a>) – Length [m] of accelerator section on the reference orbit (see
orbit_length option).</p></li>
<li><p><strong>alpha_0</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.8)"><em>float</em></a><em> (</em><em>opt: list</em><em> or </em><em>np.ndarray</em><em>)</em>) – Momentum compaction factor of zeroth order <span class="math notranslate nohighlight">\(\alpha_{0}\)</span>;
can be input as single float or as a program (1D array is a
turn-by-turn program and 2D array is a time dependent program).
If a turn-by-turn program is passed, should be of the same size
as the synchronous data.</p></li>
<li><p><strong>momentum</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.8)"><em>float</em></a><em> (</em><em>opt: list</em><em> or </em><em>np.ndarray</em><em>)</em>) – Design particle momentum [eV]
on the design orbit <span class="math notranslate nohighlight">\(p_{s}\)</span>;
can be input as single float or as a program (1D array is a
turn-by-turn program and 2D array is a time dependent program).</p></li>
<li><p><strong>kin_energy</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.8)"><em>float</em></a><em> (</em><em>opt: list</em><em> or </em><em>np.ndarray</em><em>)</em>) – Design particle kinetic energy [eV]
on the design orbit <span class="math notranslate nohighlight">\(E_{k,s}\)</span>;
can be input as single float or as a program (1D array is a
turn-by-turn program and 2D array is a time dependent program).</p></li>
<li><p><strong>energy</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.8)"><em>float</em></a><em> (</em><em>opt: list</em><em> or </em><em>np.ndarray</em><em>)</em>) – Design particle total energy [eV]
on the design orbit <span class="math notranslate nohighlight">\(E_{s}\)</span>;
can be input as single float or as a program (1D array is a
turn-by-turn program and 2D array is a time dependent program).</p></li>
<li><p><strong>bending_field</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.8)"><em>float</em></a><em> (</em><em>opt: list</em><em> or </em><em>np.ndarray</em><em>)</em>) – Design bending field [T] on the design orbit <span class="math notranslate nohighlight">\(B_{s}\)</span>,
this is used to defined the design particle momentum;
can be input as single float or as a program (1D array is a
turn-by-turn program and 2D array is a time dependent program).</p></li>
<li><p><strong>bending_radius</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.8)"><em>float</em></a>) – Optional: Radius [m] of the bending magnets,
required if ‘bending field’ is set for the synchronous_data_type</p></li>
<li><p><strong>orbit_bump</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.8)"><em>float</em></a><em> (</em><em>opt: list</em><em> or </em><em>np.ndarray</em><em>)</em>) – Length of orbit bump to add as increment to the design length;
can be input as single float or as a program (1D array is a
turn-by-turn program and 2D array is a time dependent program).
If a turn-by-turn program is passed, should be of the same size
as the synchronous data.</p></li>
<li><p><strong>alpha_n</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.8)"><em>float</em></a><em> (</em><em>opt: list</em><em> or </em><em>np.ndarray</em><em>)</em>) – Optional : Higher order momentum compaction can also be passed through
keyword arguments (orders not limited, e.g. alpha_3 is recognized);
can be input as single float or as a program (1D array is a
turn-by-turn program and 2D array is a time dependent program).
If a turn-by-turn program is passed, should be of the same size
as the synchronous data.</p></li>
</ul>
</dd>
</dl>
<dl class="py attribute">
<dt id="blond_common.interfaces.machine_parameters.ring_section.RingSection.length_design">
<code class="sig-name descname">length_design</code><a class="headerlink" href="#blond_common.interfaces.machine_parameters.ring_section.RingSection.length_design" title="Permalink to this definition">¶</a></dt>
<dd><p>Length of the section on the reference orbit [m]</p>
<dl class="field-list simple">
<dt class="field-odd">Type</dt>
<dd class="field-odd"><p><a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.8)">float</a></p>
</dd>
</dl>
</dd></dl>

<dl class="py attribute">
<dt id="blond_common.interfaces.machine_parameters.ring_section.RingSection.length">
<code class="sig-name descname">length</code><a class="headerlink" href="#blond_common.interfaces.machine_parameters.ring_section.RingSection.length" title="Permalink to this definition">¶</a></dt>
<dd><p>Length of the beam trajectory, including possible
orbit bump programs [m]</p>
<dl class="field-list simple">
<dt class="field-odd">Type</dt>
<dd class="field-odd"><p>datatype.machine_program.orbit_length</p>
</dd>
</dl>
</dd></dl>

<dl class="py attribute">
<dt id="blond_common.interfaces.machine_parameters.ring_section.RingSection.orbit_bump">
<code class="sig-name descname">orbit_bump</code><a class="headerlink" href="#blond_common.interfaces.machine_parameters.ring_section.RingSection.orbit_bump" title="Permalink to this definition">¶</a></dt>
<dd><p>Length of the orbit bump only if declared by the user [m]</p>
<dl class="field-list simple">
<dt class="field-odd">Type</dt>
<dd class="field-odd"><p><a class="reference external" href="https://docs.python.org/3/library/constants.html#None" title="(in Python v3.8)">None</a> or datatype.machine_program.orbit_length</p>
</dd>
</dl>
</dd></dl>

<dl class="py attribute">
<dt id="blond_common.interfaces.machine_parameters.ring_section.RingSection.synchronous_data">
<code class="sig-name descname">synchronous_data</code><a class="headerlink" href="#blond_common.interfaces.machine_parameters.ring_section.RingSection.synchronous_data" title="Permalink to this definition">¶</a></dt>
<dd><p>The user input synchronous data, with no conversion applied.
The datatype depends on the user input and can be
momentum_program, kinetic_energy_program, total_energy_program,
bending_field_program</p>
<dl class="field-list simple">
<dt class="field-odd">Type</dt>
<dd class="field-odd"><p>datatype.machine_program._ring_program</p>
</dd>
</dl>
</dd></dl>

<dl class="py attribute">
<dt id="blond_common.interfaces.machine_parameters.ring_section.RingSection.bending_radius">
<code class="sig-name descname">bending_radius</code><a class="headerlink" href="#blond_common.interfaces.machine_parameters.ring_section.RingSection.bending_radius" title="Permalink to this definition">¶</a></dt>
<dd><p>Bending radius in dipole magnets, <span class="math notranslate nohighlight">\(\rho\)</span> [m]</p>
<dl class="field-list simple">
<dt class="field-odd">Type</dt>
<dd class="field-odd"><p><a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.8)">float</a> (or <a class="reference external" href="https://docs.python.org/3/library/constants.html#None" title="(in Python v3.8)">None</a>)</p>
</dd>
</dl>
</dd></dl>

<dl class="py attribute">
<dt id="blond_common.interfaces.machine_parameters.ring_section.RingSection.alpha_0">
<code class="sig-name descname">alpha_0</code><a class="headerlink" href="#blond_common.interfaces.machine_parameters.ring_section.RingSection.alpha_0" title="Permalink to this definition">¶</a></dt>
<dd><p>Momentum compaction factor of zeroth order</p>
<dl class="field-list simple">
<dt class="field-odd">Type</dt>
<dd class="field-odd"><p>datatype.machine_program.momentum_compaction</p>
</dd>
</dl>
</dd></dl>

<dl class="py attribute">
<dt id="blond_common.interfaces.machine_parameters.ring_section.RingSection.alpha_n">
<code class="sig-name descname">alpha_n</code><a class="headerlink" href="#blond_common.interfaces.machine_parameters.ring_section.RingSection.alpha_n" title="Permalink to this definition">¶</a></dt>
<dd><p>Momentum compaction factor of higher orders</p>
<dl class="field-list simple">
<dt class="field-odd">Type</dt>
<dd class="field-odd"><p>datatype.machine_program.momentum_compaction (or undefined)</p>
</dd>
</dl>
</dd></dl>

<dl class="py attribute">
<dt id="blond_common.interfaces.machine_parameters.ring_section.RingSection.alpha_orders">
<code class="sig-name descname">alpha_orders</code><a class="headerlink" href="#blond_common.interfaces.machine_parameters.ring_section.RingSection.alpha_orders" title="Permalink to this definition">¶</a></dt>
<dd><p>Orders of momentum compaction defined by the user</p>
<dl class="field-list simple">
<dt class="field-odd">Type</dt>
<dd class="field-odd"><p><a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.8)">int</a></p>
</dd>
</dl>
</dd></dl>

<p class="rubric">Examples</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="c1"># To declare a section of a synchrotron with very simple</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># parameters</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">blond_common.interfaces.machine_parameters.ring_section</span> <span class="kn">import</span> \
<span class="gp">&gt;&gt;&gt; </span>    <span class="n">Section</span>
<span class="go">&gt;&gt;&gt;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">length</span> <span class="o">=</span> <span class="mi">300</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">alpha_0</span> <span class="o">=</span> <span class="mf">1e-3</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">momentum</span> <span class="o">=</span> <span class="mf">26e9</span>
<span class="go">&gt;&gt;&gt;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">section</span> <span class="o">=</span> <span class="n">RingSection</span><span class="p">(</span><span class="n">length</span><span class="p">,</span> <span class="n">alpha_0</span><span class="p">,</span> <span class="n">momentum</span><span class="p">)</span>
</pre></div>
</div>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="c1"># To declare a section of a synchrotron with very complex</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># parameters and programs</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">blond_common.interfaces.machine_parameters.ring_section</span> <span class="kn">import</span> \
<span class="gp">&gt;&gt;&gt; </span>    <span class="n">Section</span>
<span class="go">&gt;&gt;&gt;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">length</span> <span class="o">=</span> <span class="mi">300</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">alpha_0</span> <span class="o">=</span> <span class="p">[</span><span class="mf">1e-3</span><span class="p">,</span> <span class="mf">0.9e-3</span><span class="p">,</span> <span class="mf">1e-3</span><span class="p">]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">alpha_1</span> <span class="o">=</span> <span class="mf">1e-4</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">alpha_2</span> <span class="o">=</span> <span class="mf">1e-5</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">alpha_5</span> <span class="o">=</span> <span class="mf">1e-9</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">orbit_bump</span> <span class="o">=</span> <span class="p">[</span><span class="mf">0.</span><span class="p">,</span> <span class="mf">1e-3</span><span class="p">,</span> <span class="mf">0.</span><span class="p">]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">energy</span> <span class="o">=</span> <span class="n">machine_program</span><span class="p">([[</span><span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">],</span>
<span class="gp">&gt;&gt;&gt; </span>                          <span class="p">[</span><span class="mf">26e9</span><span class="p">,</span> <span class="mf">27e9</span><span class="p">,</span> <span class="mf">28e9</span><span class="p">]])</span>
<span class="go">&gt;&gt;&gt;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">section</span> <span class="o">=</span> <span class="n">RingSection</span><span class="p">(</span><span class="n">length</span><span class="p">,</span> <span class="n">alpha_0</span><span class="p">,</span> <span class="n">energy</span><span class="o">=</span><span class="n">energy</span><span class="p">,</span>
<span class="gp">&gt;&gt;&gt; </span>                      <span class="n">alpha_1</span><span class="o">=</span><span class="n">alpha_1</span><span class="p">,</span> <span class="n">alpha_2</span><span class="o">=</span><span class="n">alpha_2</span><span class="p">,</span>
<span class="gp">&gt;&gt;&gt; </span>                      <span class="n">alpha_5</span><span class="o">=</span><span class="n">alpha_5</span><span class="p">,</span> <span class="n">orbit_bump</span><span class="o">=</span><span class="n">orbit_bump</span><span class="p">)</span>
</pre></div>
</div>
</dd></dl>

</div>
<div class="section" id="interfaces-machine-parameters-rf-parameters-module">
<h2>interfaces.machine_parameters.rf_parameters module<a class="headerlink" href="#interfaces-machine-parameters-rf-parameters-module" title="Permalink to this headline">¶</a></h2>
</div>
<div class="section" id="module-blond_common.interfaces.machine_parameters.rf_parameters_options">
<span id="interfaces-machine-parameters-rf-parameters-options-module"></span><h2>interfaces.machine_parameters.rf_parameters_options module<a class="headerlink" href="#module-blond_common.interfaces.machine_parameters.rf_parameters_options" title="Permalink to this headline">¶</a></h2>
<p><strong>Function(s) for pre-processing input data</strong></p>
<dl class="field-list simple">
<dt class="field-odd">Authors</dt>
<dd class="field-odd"><p><strong>Helga Timko</strong>, <strong>Alexandre Lasheen</strong>, <strong>Danilo Quartullo</strong>,
<strong>Simon Albright</strong></p>
</dd>
</dl>
<dl class="py class">
<dt id="blond_common.interfaces.machine_parameters.rf_parameters_options.RFStationOptions">
<em class="property">class </em><code class="sig-prename descclassname">blond_common.interfaces.machine_parameters.rf_parameters_options.</code><code class="sig-name descname">RFStationOptions</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">interpolation</span><span class="o">=</span><span class="default_value">'linear'</span></em>, <em class="sig-param"><span class="n">smoothing</span><span class="o">=</span><span class="default_value">0</span></em>, <em class="sig-param"><span class="n">plot</span><span class="o">=</span><span class="default_value">False</span></em>, <em class="sig-param"><span class="n">figdir</span><span class="o">=</span><span class="default_value">'fig'</span></em>, <em class="sig-param"><span class="n">figname</span><span class="o">=</span><span class="default_value">['data']</span></em>, <em class="sig-param"><span class="n">sampling</span><span class="o">=</span><span class="default_value">1</span></em><span class="sig-paren">)</span><a class="reference internal" href="blond_common/interfaces/machine_parameters/rf_parameters_options.html#RFStationOptions"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#blond_common.interfaces.machine_parameters.rf_parameters_options.RFStationOptions" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference external" href="https://docs.python.org/3/library/functions.html#object" title="(in Python v3.8)"><code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></a></p>
<p>Class to preprocess the RF data (voltage, phase, harmonic) for
RFStation, interpolating it to every turn.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>interpolation</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.8)"><em>str</em></a>) – Interpolation options for the data points. Available options are
‘linear’ (default) and ‘cubic’</p></li>
<li><p><strong>smoothing</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.8)"><em>float</em></a>) – Smoothing value for ‘cubic’ interpolation</p></li>
<li><p><strong>plot</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.8)"><em>bool</em></a>) – Option to plot interpolated arrays; default is False</p></li>
<li><p><strong>figdir</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.8)"><em>str</em></a>) – Directory to save optional plot; default is ‘fig’</p></li>
<li><p><strong>figname</strong> (<em>list of str</em>) – Figure name to save optional plot; default is ‘data’, different arrays
will have figures with different indices</p></li>
<li><p><strong>sampling</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.8)"><em>int</em></a>) – Decimation value for plotting; default is 1</p></li>
</ul>
</dd>
</dl>
<dl class="py method">
<dt id="blond_common.interfaces.machine_parameters.rf_parameters_options.RFStationOptions.reshape_data">
<code class="sig-name descname">reshape_data</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">input_data</span></em>, <em class="sig-param"><span class="n">n_turns</span></em>, <em class="sig-param"><span class="n">n_rf</span></em>, <em class="sig-param"><span class="n">interp_time</span></em>, <em class="sig-param"><span class="n">t_start</span><span class="o">=</span><span class="default_value">0</span></em><span class="sig-paren">)</span><a class="reference internal" href="blond_common/interfaces/machine_parameters/rf_parameters_options.html#RFStationOptions.reshape_data"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#blond_common.interfaces.machine_parameters.rf_parameters_options.RFStationOptions.reshape_data" title="Permalink to this definition">¶</a></dt>
<dd><p>Checks whether the user input is consistent with the expectation
for the RFStation object. The possibilites are detailed in the
documentation of the RFStation object.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>input_data</strong> (<em>Ring.synchronous_data</em><em>, </em><em>Ring.alpha_0</em><em>,</em><em>1</em><em>,</em><em>2</em>) – Main input data to reshape</p></li>
<li><p><strong>n_turns</strong> (<em>RFStation.n_turns</em>) – Number of turns the simulation should be. Note that if
the input_data is passed as a tuple it is expected that the
input_data is a program. This parameter is only relevant if the
rf program is passed as an array/list with the rigth size
(see interp_time otherwise)</p></li>
<li><p><strong>n_rf</strong> (<em>RFStation.n_rf</em>) – The number of rf harmonics in the station. The simulation is
stopped if the input_data shape does not correspond to the expected
number of rf harmonics.</p></li>
<li><p><strong>interp_time</strong> (<em>Ring.cycle_time</em>) – Ensure that the rf program is interpolated on the same time basis
as the Ring.momentum program</p></li>
<li><p><strong>t_start</strong> (<em>Ring.RingOptions.t_start</em><em> or </em><a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.8)"><em>float</em></a>) – Uses the same t_start as the one used to interpolate the momentum
program in Ring. This value can nevertheless be changed to a custom
value if necessary.</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>Returns the data with the adequate shape for the RStation object</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>output_data</p>
</dd>
</dl>
</dd></dl>

</dd></dl>

<dl class="py function">
<dt id="blond_common.interfaces.machine_parameters.rf_parameters_options.combine_rf_functions">
<code class="sig-prename descclassname">blond_common.interfaces.machine_parameters.rf_parameters_options.</code><code class="sig-name descname">combine_rf_functions</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">function_list</span></em>, <em class="sig-param"><span class="n">merge_type</span><span class="o">=</span><span class="default_value">'linear'</span></em>, <em class="sig-param"><span class="n">resolution</span><span class="o">=</span><span class="default_value">0.001</span></em>, <em class="sig-param"><span class="n">Ring</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">main_h</span><span class="o">=</span><span class="default_value">True</span></em><span class="sig-paren">)</span><a class="reference internal" href="blond_common/interfaces/machine_parameters/rf_parameters_options.html#combine_rf_functions"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#blond_common.interfaces.machine_parameters.rf_parameters_options.combine_rf_functions" title="Permalink to this definition">¶</a></dt>
<dd><p>Function to combine different RF programs. Each program is passed in a
tuple with complete function (single valued or numpy array) and 2-list
[start_time, stop_time].</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>function_list</strong> (<em>list of tuples</em>) – each tuple has form (function, [start_time, stop_time])
function can be a numpy.ndarray of format [time, value] or single valued
if function is single valued it will be assumed constant from start_time to stop_time
if function is numpy.ndarray it will be truncated to start_time, stop_time</p></li>
<li><p><strong>merge_type</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.8)"><em>str</em></a>) – <dl class="simple">
<dt>string signifying type of merge available, options are:</dt><dd><p>linear : function will be linearly interpolated from function_1[stop_time] to function_2[start_time]
isoadiabatic : designed for voltage functions and intended to maintain adiabaticity during change of voltage, best suited to flat momentum sections
linear_tune : for use with voltages, provides a linear change in the tune from function_1[stop_time] to function_2[start_time]</p>
</dd>
</dl>
</p></li>
<li><p><strong>resolution</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.8)"><em>float</em></a>) – the time in seconds between points of the interpolation</p></li>
<li><p><strong>Ring</strong> (<em>class</em>) – A Ring type class, only used with linear_tune merge_type</p></li>
<li><p><strong>main_h</strong> (<em>boolean</em>) – if main_h is True dE is considered in linear_tune merge_type, otherwise dE is set to 0</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p></p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>2 dimensional numpy.ndarray containing [time, value] of merged functions</p>
</dd>
</dl>
</dd></dl>

</div>
</div>


           </div>
           
          </div>
          <footer>
  
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
      
        <a href="fitting.html" class="btn btn-neutral float-right" title="fitting package" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right"></span></a>
      
      
        <a href="interfaces.html" class="btn btn-neutral float-left" title="interfaces package" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left"></span> Previous</a>
      
    </div>
  

  <hr/>

  <div role="contentinfo">
    <p>
        &copy; Copyright 2019, BLonD-admin

    </p>
  </div>
  Built with <a href="http://sphinx-doc.org/">Sphinx</a> using a <a href="https://github.com/rtfd/sphinx_rtd_theme">theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>. 

</footer>

        </div>
      </div>

    </section>

  </div>
  


  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(false);
      });
  </script>

  
  
    
   

</body>
</html>